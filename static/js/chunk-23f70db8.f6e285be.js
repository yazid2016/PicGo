(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23f70db8"],{a888:function(e,t,a){"use strict";a("a481"),a("6762"),a("2fdb");var i={bind:function(e,t,a){var i=e.querySelector(".el-dialog__header"),l=e.querySelector(".el-dialog");i.style.cssText+=";cursor:move;",l.style.cssText+=";top:0px;";var r=function(){return window.document.currentStyle?function(e,t){return e.currentStyle[t]}:function(e,t){return getComputedStyle(e,!1)[t]}}();i.onmousedown=function(e){var t=e.clientX-i.offsetLeft,s=e.clientY-i.offsetTop,o=l.offsetWidth,n=l.offsetHeight,c=document.body.clientWidth,d=document.body.clientHeight,u=l.offsetLeft,m=c-l.offsetLeft-o,f=l.offsetTop,h=d-l.offsetTop-n,p=r(l,"left"),b=r(l,"top");p.includes("%")?(p=+document.body.clientWidth*(+p.replace(/\%/g,"")/100),b=+document.body.clientHeight*(+b.replace(/\%/g,"")/100)):(p=+p.replace(/\px/g,""),b=+b.replace(/\px/g,"")),document.onmousemove=function(e){var i=e.clientX-t,r=e.clientY-s;-i>u?i=-u:i>m&&(i=m),-r>f?r=-f:r>h&&(r=h),l.style.cssText+=";left:".concat(i+p,"px;top:").concat(r+b,"px;"),a.child.$emit("dragDialog")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}},l=function(e){e.directive("el-drag-dialog",i)};window.Vue&&(window["el-drag-dialog"]=i,Vue.use(l)),i.install=l;t["a"]=i},a8fb:function(e,t,a){"use strict";var i=a("faa9"),l=a.n(i);l.a},bb8c:function(e,t,a){"use strict";var i=a("e781"),l=a.n(i);l.a},e781:function(e,t,a){},f794:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container app-container-drawer"},[a("el-container",[a("el-main",{staticClass:"content-main"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableParams.tableLoading,expression:"tableParams.tableLoading"}],attrs:{"row-key":"id",height:e.tableParams.tableHeight,data:e.tableParams.tableData,"tree-props":e.tableParams.tableProps,"default-expand-all":"",border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"ModuleTitle","column-key":"ModuleTitle",label:"菜单标题","min-width":"180",align:"left","show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function(t){var i=t.column;return[a("span",[e._v(e._s(i.label))]),e._v(" "),a("el-button",{staticStyle:{padding:"0px","margin-left":"2px"},attrs:{icon:"el-icon-circle-plus-outline",type:"text",title:"新增菜单"},on:{click:e.handleCreated}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"Icon","column-key":"Icon",label:"图标",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[a("svg-icon",{attrs:{"icon-class":t.Icon}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"ModuleTag","column-key":"ModuleTag",label:"菜单标识",width:"180",align:"left","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"ModuleAction","column-key":"ModuleAction",label:"菜单路由","min-width":"160",align:"left","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"ModuleLevel","column-key":"ModuleLevel",label:"层级",width:"80",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"IsAlwaysShow","column-key":"IsAlwaysShow",label:"显示根路由",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[1===t.IsAlwaysShow?a("i",{staticClass:"el-icon-circle-check",staticStyle:{color:"#13ce66","font-size":"18px"}}):a("i",{staticClass:"el-icon-circle-close",staticStyle:{color:"#ff4949","font-size":"18px"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"IsShow","column-key":"IsShow",label:"是否显示",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0},on:{change:function(t){return e.handleSwitchChange(i)}},model:{value:i.IsShow,callback:function(t){e.$set(i,"IsShow",t)},expression:"row.IsShow"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{"column-key":"key",label:"操作",width:"90",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"0px","margin-left":"2px"},attrs:{icon:"el-icon-edit",type:"text"},on:{click:function(a){return e.handleModify(t.row)}}}),e._v(" "),a("el-button",{staticStyle:{padding:"0px","margin-left":"2px"},attrs:{icon:"el-icon-postcard",type:"text"},on:{click:function(a){return e.handleUcList(t.row)}}}),e._v(" "),a("el-button",{staticStyle:{padding:"0px","margin-left":"2px"},attrs:{icon:"el-icon-delete",type:"text"},on:{click:function(a){return e.handleDeleted(t.row)}}})]}}])})],1)],1)],1),e._v(" "),a("el-drawer",{ref:"modifyDrawer",attrs:{size:"320px;","custom-class":"el-drawer-custom-class","destroy-on-close":"",title:e.editParams.drawerTitle,visible:e.editParams.drawerVisible},on:{"update:visible":function(t){return e.$set(e.editParams,"drawerVisible",t)}}},[a("div",{staticStyle:{display:"flex","flex-direction":"column",height:"100%",padding:"0 20px"}},[a("div",{staticStyle:{flex:"1"}},[a("el-form",{ref:"menuForm",attrs:{model:e.editParams.form,rules:e.editParams.rules}},[a("el-form-item",{attrs:{label:"菜单名称：",prop:"ModuleTitle","label-width":e.editParams.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入菜单名称",autocomplete:"off"},model:{value:e.editParams.form.ModuleTitle,callback:function(t){e.$set(e.editParams.form,"ModuleTitle",t)},expression:"editParams.form.ModuleTitle"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上级菜单：",prop:"ParentModuleId","label-width":e.editParams.formLabelWidth}},[a("el-select-tree",{staticStyle:{width:"100%"},attrs:{options:e.tableParams.tableData,props:e.editParams.defaultProps,value:e.editParams.form.ParentModuleId,isfilter:!1,disableditems:e.editParams.isModify?[e.editParams.form.id]:[],placeholder:"请选择上级菜单"},on:{getValue:function(t){return e.handleNodeChange(t)}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图标：",prop:"Icon","label-width":e.editParams.formLabelWidth}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择图标"},model:{value:e.editParams.form.Icon,callback:function(t){e.$set(e.editParams.form,"Icon",t)},expression:"editParams.form.Icon"}},e._l(e.editParams.svgIcons,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[a("svg-icon",{attrs:{"icon-class":t}})],1)])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"菜单标识：",prop:"ModuleTag","label-width":e.editParams.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入菜单标识",autocomplete:"off"},model:{value:e.editParams.form.ModuleTag,callback:function(t){e.$set(e.editParams.form,"ModuleTag",t)},expression:"editParams.form.ModuleTag"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"菜单路由：",prop:"ModuleAction","label-width":e.editParams.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入菜单路由",autocomplete:"off"},model:{value:e.editParams.form.ModuleAction,callback:function(t){e.$set(e.editParams.form,"ModuleAction",t)},expression:"editParams.form.ModuleAction"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排序：",prop:"Sort","label-width":e.editParams.formLabelWidth}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:1},model:{value:e.editParams.form.Sort,callback:function(t){e.$set(e.editParams.form,"Sort",t)},expression:"editParams.form.Sort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"显示根路由：",prop:"IsAlwaysShow","label-width":e.editParams.formLabelWidth}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0},model:{value:e.editParams.form.IsAlwaysShow,callback:function(t){e.$set(e.editParams.form,"IsAlwaysShow",t)},expression:"editParams.form.IsAlwaysShow"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否显示：",prop:"IsShow","label-width":e.editParams.formLabelWidth}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0},model:{value:e.editParams.form.IsShow,callback:function(t){e.$set(e.editParams.form,"IsShow",t)},expression:"editParams.form.IsShow"}})],1)],1)],1),e._v(" "),a("div",{staticStyle:{display:"flex",padding:"10px 0"}},[a("el-button",{staticStyle:{flex:"1"},on:{click:function(t){e.editParams.drawerVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{staticStyle:{flex:"1"},attrs:{type:"primary",loading:e.editParams.submitLoading},on:{click:e.handleSave}},[e._v(e._s(e.editParams.submitLoading?"提交中...":"确 定"))])],1)])]),e._v(" "),a("el-drawer",{ref:"ucDrawer",attrs:{size:"30vw;","custom-class":"el-drawer-custom-class","destroy-on-close":"",title:e.ucParams.drawerTitle,visible:e.ucParams.drawerVisible},on:{"update:visible":function(t){return e.$set(e.ucParams,"drawerVisible",t)}}},[a("div",{staticStyle:{display:"flex","flex-direction":"column",height:"100%",padding:"0 20px"}},[a("div",{staticStyle:{flex:"1","margin-bottom":"10px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.ucParams.tableLoading,expression:"ucParams.tableLoading"}],ref:"ucTable",attrs:{"row-key":"rowIdx",data:e.ucParams.tableData,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"rowIdx","column-key":"rowIdx",label:"序号",width:"40",align:"center"}},[a("template",{slot:"header"},[a("el-button",{staticStyle:{padding:"0px","margin-left":"2px"},attrs:{icon:"el-icon-circle-plus-outline",type:"text",title:"新增菜单"},on:{click:e.handleUcCreated}})],1)],2),e._v(" "),a("el-table-column",{attrs:{prop:"usecasename","column-key":"usecasename",label:"用例名称","min-width":"100",align:"left","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"usecasetag","column-key":"usecasetag",label:"用例标识","min-width":"100",align:"left","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{"column-key":"key",label:"操作",width:"72",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"0px","margin-left":"2px"},attrs:{icon:"el-icon-edit",type:"text"},on:{click:function(a){return e.handleUcModify(t.row)}}}),e._v(" "),a("el-button",{staticStyle:{padding:"0px","margin-left":"2px"},attrs:{icon:"el-icon-delete",type:"text"},on:{click:function(a){return e.handleUcDeleted(t.row)}}})]}}])})],1)],1)])]),e._v(" "),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],ref:"ucDialog",attrs:{width:"300px","custom-class":"el-dialog-custom-class","destroy-on-close":"",title:e.editUcParams.dialogTitle,visible:e.editUcParams.dialogVisible},on:{"update:visible":function(t){return e.$set(e.editUcParams,"dialogVisible",t)},dragDialog:function(e){return this.$refs.usecasename_input.blur()}}},[a("div",{staticStyle:{display:"flex","flex-direction":"column",height:"100%"}},[a("div",{staticStyle:{flex:"1"}},[a("el-form",{ref:"ucForm",attrs:{model:e.editUcParams.form,rules:e.editUcParams.rules}},[a("el-form-item",{attrs:{label:"用例名称：",prop:"usecasename","label-width":e.editUcParams.formLabelWidth}},[a("el-input",{ref:"usecasename_input",attrs:{placeholder:"请输入用例名称",autocomplete:"off"},model:{value:e.editUcParams.form.usecasename,callback:function(t){e.$set(e.editUcParams.form,"usecasename",t)},expression:"editUcParams.form.usecasename"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用例标识：",prop:"usecasetag","label-width":e.editUcParams.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入用例标识",autocomplete:"off"},model:{value:e.editUcParams.form.usecasetag,callback:function(t){e.$set(e.editUcParams.form,"usecasetag",t)},expression:"editUcParams.form.usecasetag"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排序：",prop:"sort","label-width":e.editUcParams.formLabelWidth}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:1},model:{value:e.editUcParams.form.sort,callback:function(t){e.$set(e.editUcParams.form,"sort",t)},expression:"editUcParams.form.sort"}})],1)],1)],1),e._v(" "),a("div",{staticStyle:{display:"flex",padding:"10px 0"}},[a("el-button",{staticStyle:{flex:"1"},on:{click:function(t){e.editUcParams.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{staticStyle:{flex:"1"},attrs:{type:"primary",loading:e.editUcParams.submitLoading},on:{click:e.handleUcSave}},[e._v(e._s(e.editUcParams.submitLoading?"提交中...":"确 定"))])],1)])])],1)},l=[],r=(a("ac6a"),a("8593")),s=a("aa47"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{ref:"treeSelect",attrs:{value:e.valueTitle,clearable:e.clearable,placeholder:e.placeholder},on:{clear:e.clearHandle}},[e.isfilter?a("el-input",{staticClass:"selectInput",attrs:{placeholder:e.filterPlaceholder},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}):e._e(),e._v(" "),a("el-option",{staticClass:"options",attrs:{value:e.valueTitle,label:e.valueTitle}},[a("el-tree",{ref:"selectTree",attrs:{id:"tree-option",accordion:e.accordion,data:e.options,"node-key":e.props.value,props:e.props,"default-expanded-keys":e.defaultExpandedKey,"filter-node-method":e.filterNode},on:{"node-click":e.handleNodeClick}})],1)],1)},n=[],c={name:"SelectTree",filters:{},components:{},props:{props:{type:Object,default:function(){return{value:"id",label:"title",children:"children",disabled:"disabled"}}},options:{type:Array,default:function(){return[]}},value:{type:String,default:function(){return""}},clearable:{type:Boolean,default:function(){return!0}},accordion:{type:Boolean,default:function(){return!0}},disableditems:{type:Array,default:function(){return[]}},placeholder:{type:String,default:function(){return"请选择"}},isfilter:{type:Boolean,default:function(){return!0}},filterPlaceholder:{type:String,default:function(){return"检索关键字"}}},data:function(){return{screenHeight:0,filterText:"",valueId:this.value,valueTitle:"",defaultExpandedKey:[]}},computed:{},watch:{value:function(){this.valueId=this.value,this.initHandle()},filterText:function(e){this.$refs.selectTree.filter(e)}},created:function(){},mounted:function(){this.initHandle()},methods:{initPage:function(){},setPageHeight:function(){this.screenHeight=document.body.clientHeight,this.tableParams.tableHeight=this.screenHeight-182},initHandle:function(){this.valueId&&(this.valueTitle=this.$refs.selectTree.getNode(this.valueId).data[this.props.label],this.$refs.selectTree.setCurrentKey(this.valueId),this.defaultExpandedKey=[this.valueId]),this.initScroll()},initScroll:function(){this.$nextTick((function(){var e=document.querySelectorAll(".el-scrollbar .el-select-dropdown__wrap")[0],t=document.querySelectorAll(".el-scrollbar .el-scrollbar__bar");e.style.cssText="margin:0px;max-height:none;overflow:hidden;",t.forEach((function(e){return e.style.width=0}))}))},handleNodeClick:function(e){this.disableditems instanceof Array&&this.disableditems.length>0&&this.disableditems.indexOf(e[this.props.value])>-1||(this.valueTitle=e[this.props.label],this.valueId=e[this.props.value],this.$emit("getValue",this.valueId),this.defaultExpandedKey=[],e.children&&e.children.length||this.$refs.treeSelect.blur())},clearHandle:function(){this.valueTitle="",this.valueId="",this.defaultExpandedKey=[],this.clearSelected(),this.$emit("getValue","")},clearSelected:function(){var e=document.querySelectorAll("#tree-option .el-tree-node");e.forEach((function(e){return e.classList.remove("is-current")}))},filterNode:function(e,t){return!e||-1!==t[this.props.label].indexOf(e)}}},d=c,u=(a("a8fb"),a("2877")),m=Object(u["a"])(d,o,n,!1,null,"b82974a2",null),f=m.exports,h=a("a888"),p=a("fc00"),b={name:"Menu",filters:{},components:{"el-select-tree":f},directives:{"el-drag-dialog":h["a"]},props:{},data:function(){return{screenHeight:0,requestParams:{pageIndex:1,pageSize:10,orderby:"",sort:0,searchKey:"",state:-1},tableParams:{tableLoading:!1,tableHeight:0,tableProps:{children:"Children",hasChildren:"hasChildren"},tableColumns:[],tableData:[],total:0,layoutOptions:"total, sizes, prev, pager, next, jumper",pageSizeOptions:["10","20","30","50","100","200"],multipleSelection:[]},editParams:{isModify:!1,drawerVisible:!1,drawerTitle:"提示",submitLoading:!1,formLabelWidth:"100px",svgIcons:p["a"],form:{id:"",ModuleTag:"",ModuleTitle:"",ModuleAction:"",Icon:"",ParentModuleId:"",ModuleLevel:1,Sort:0,IsAlwaysShow:0,IsShow:0},defaultProps:{value:"id",label:"ModuleTitle",children:"Children",disabled:"Disabled"},defaultData:[],rules:{ModuleTitle:[{required:!0,message:"菜单名称不为空",trigger:"blur"}],Icon:[{required:!0,message:"选择图标",trigger:"blur"}],ModuleTag:[{required:!0,message:"菜单标识不为空",trigger:"blur"}],ModuleAction:[{required:!0,message:"菜单路由不为空",trigger:"blur"}],Sort:[{type:"number",message:"排序不合法",trigger:"blur"}],IsShow:[{type:"number",message:"不合法",trigger:"blur"}]}},ucParams:{drawerVisible:!1,drawerTitle:"提示",menuId:"",tableLoading:!1,tableData:[],sortableObj:null,oldTableList:[],newTableList:[]},editUcParams:{isModify:!1,dialogVisible:!1,dialogTitle:"提示",submitLoading:!1,formLabelWidth:"100px",form:{id:"",moduleid:"",usecasetag:"",usecasename:"",sort:0},rules:{usecasename:[{required:!0,message:"用例名称不为空",trigger:"blur"}],usecasetag:[{required:!0,message:"用例标识不为空",trigger:"blur"}],sort:[{type:"number",message:"排序不合法",trigger:"blur"}]}}}},computed:{},watch:{},created:function(){},mounted:function(){var e=this;this.$nextTick((function(t){return e.initPage()}));var t=null;window.onresize=function(a){return function(a){t&&(clearTimeout(t),t=null),t=setTimeout((function(t){return e.setPageHeight()}),500)}()}},methods:{initPage:function(){this.setPageHeight(),this.getTableData()},setPageHeight:function(){this.screenHeight=document.body.clientHeight,this.tableParams.tableHeight=this.screenHeight-90},getTableColumns:function(){var e=this;this.tableParams.tableColumns=[{columnName:"rowIdx",columnLabel:"序号",columnWidth:58,align:"center",headerAlign:"center",sortable:!1,fixed:!0,show:!0},{columnName:"state",columnLabel:"状态",columnWidth:80,align:"center",headerAlign:"center",sortable:!1,fixed:!1,show:!0,formatter:function(t,a,i){var l=e.$createElement;return l("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":0,"inactive-value":1,value:i,rowid:t.id}})}}]},getSearchParam:function(){var e={};for(var t in this.requestParams)if(this.requestParams.hasOwnProperty(t)){var a=this.requestParams[t];a instanceof Array?!a.length||1===a.length&&-1===a[0]||(e[t]=a):0!==a&&!a||-1===a||""!==a&&(e[t]=a)}return e},getTableData:function(){var e=this;this.tableParams.tableLoading=!0,Object(r["j"])().then((function(t){e.tableParams.tableData=t.data,e.tableParams.tableLoading=!1})).catch((function(t){e.$message.error({message:t.message||"请求出错"}),e.tableParams.tableLoading=!1}))},handleSizeChange:function(e){this.requestParams.pageIndex=1,this.requestParams.pageSize=e,this.getTableData()},handleCurrentChange:function(e){this.requestParams.pageIndex=e,this.getTableData()},handleNodeChange:function(e){this.editParams.form.ParentModuleId=e},handleSwitchChange:function(e){var t=this;Object(r["S"])(e.id,1===e.IsShow).catch((function(e){t.$message.error({message:e.message||"请求出错"}),t.getTableData()}))},handleCreated:function(){this.editParams.isModify=!1,this.editParams.drawerTitle="新增菜单",this.editParams.drawerVisible=!0,this.editParams.submitLoading=!1,this.editParams.form={ModuleTag:"",ModuleTitle:"",ModuleAction:"",Icon:"",ParentModuleId:"",ModuleLevel:1,Sort:1,IsAlwaysShow:0,IsShow:1}},handleModify:function(e){this.editParams.isModify=!0,this.editParams.drawerTitle="修改菜单",this.editParams.drawerVisible=!0,this.editParams.submitLoading=!1,this.editParams.form=JSON.parse(JSON.stringify(e))},handleDeleted:function(e){var t=this;this.$confirm("此操作将永久删除菜单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["L"])([e.id]).then((function(e){return t.getTableData()})).catch((function(e){t.$message.error({message:e.message||"请求出错"})}))})).catch((function(){}))},handleSave:function(){var e=this;this.editParams.submitLoading=!0,this.$refs.menuForm.validate((function(t){if(!t)return e.editParams.submitLoading=!1,!1;Object(r["A"])(e.editParams.form,e.editParams.isModify).then((function(t){e.editParams.drawerVisible=!1,e.editParams.submitLoading=!1,e.getTableData()})).catch((function(t){e.$message.error({message:t.message||"请求出错"}),e.editParams.submitLoading=!1}))}))},getUcTableData:function(){var e=this;this.ucParams.tableLoading=!0,Object(r["k"])(this.ucParams.menuId).then((function(t){var a=[],i=0;t.data.forEach((function(e,t){e["rowIdx"]=i+ ++t,a.push(e)})),e.ucParams.tableData=a,e.ucParams.tableLoading=!1})).catch((function(t){e.$message.error({message:t.message||"请求出错"}),e.ucParams.tableLoading=!1}))},setUcSort:function(){var e=this,t=this.$refs.ucTable.$el.querySelectorAll(".el-table__body-wrapper > table > tbody")[0];this.ucParams.sortableObj=s["a"].create(t,{ghostClass:"sortable-ghost",setData:function(e){e.setData("Text","")},onEnd:function(t){var a=e.ucParams.tableData.splice(t.oldIndex,1)[0];e.ucParams.tableData.splice(t.newIndex,0,a);var i=e.ucParams.newTableList.splice(t.oldIndex,1)[0];e.ucParams.newTableList.splice(t.newIndex,0,i)}})},handleUcList:function(e){this.ucParams.drawerVisible=!0,this.ucParams.drawerTitle="".concat(e.ModuleTitle,"用例列表"),this.ucParams.menuId=e.id,this.ucParams.tableData=[],this.getUcTableData()},handleUcCreated:function(){this.editUcParams.isModify=!1,this.editUcParams.dialogTitle="新增用例",this.editUcParams.dialogVisible=!0,this.editUcParams.submitLoading=!1,this.editUcParams.form={id:"",moduleid:this.ucParams.menuId,usecasetag:"",usecasename:"",sort:1}},handleUcModify:function(e){this.editUcParams.isModify=!0,this.editUcParams.dialogTitle="修改用例",this.editUcParams.dialogVisible=!0,this.editUcParams.submitLoading=!1,this.editUcParams.form=JSON.parse(JSON.stringify(e))},handleUcDeleted:function(e){var t=this;this.$confirm("此操作将永久删除用例, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["M"])([e.id]).then((function(e){return t.getUcTableData()})).catch((function(e){t.$message.error({message:e.message||"请求出错"})}))})).catch((function(){}))},handleUcSave:function(){var e=this;this.editUcParams.submitLoading=!0,this.$refs.ucForm.validate((function(t){if(!t)return e.editUcParams.submitLoading=!1,!1;Object(r["B"])(e.editUcParams.form,e.editUcParams.isModify).then((function(t){e.editUcParams.dialogVisible=!1,e.editUcParams.submitLoading=!1,e.getUcTableData()})).catch((function(t){e.$message.error({message:t.message||"请求出错"}),e.editUcParams.submitLoading=!1}))}))}}},g=b,v=(a("bb8c"),Object(u["a"])(g,i,l,!1,null,"0bce7827",null));t["default"]=v.exports},faa9:function(e,t,a){},fc00:function(e,t,a){"use strict";a("4917"),a("ac6a");var i=a("51ff"),l=function(e){return e.keys()},r=/\.\/(.*)\.svg/,s=l(i).map((function(e){return e.match(r)[1]}));t["a"]=s}}]);