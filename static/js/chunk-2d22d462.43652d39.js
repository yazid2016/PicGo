(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22d462"],{f794:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-container",[a("el-header",{staticClass:"table-header",attrs:{height:"auto"}},[a("el-button-group",{staticClass:"table-left"},[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.handleCreated}},[e._v("新增")])],1),e._v(" "),a("div",{staticClass:"table-right"})],1),e._v(" "),a("el-main",{staticClass:"table-main"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableParams.tableLoading,expression:"tableParams.tableLoading"}],attrs:{"row-key":"id","element-loading-text":"Loading",height:e.tableParams.tableHeight,data:e.tableParams.tableData,"tree-props":e.tableParams.tableProps,"default-expand-all":"",border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"ModuleTitle","column-key":"ModuleTitle",label:"菜单标题","min-width":"180",align:"left","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Icon","column-key":"Icon",label:"图标",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[a("svg-icon",{attrs:{"icon-class":t.Icon}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"ModuleTag","column-key":"ModuleTag",label:"菜单标识",width:"180",align:"left","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"ModuleAction","column-key":"ModuleAction",label:"菜单路由","min-width":"160",align:"left","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"ModuleLevel","column-key":"ModuleLevel",label:"层级",width:"80",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"IsAlwaysShow","column-key":"IsAlwaysShow",label:"显示根路由",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[1===l.IsAlwaysShow?a("i",{staticClass:"el-icon-circle-check",staticStyle:{color:"#13ce66","font-size":"18px"}}):e._e(),e._v(" "),1!==l.IsAlwaysShow?a("i",{staticClass:"el-icon-circle-close",staticStyle:{color:"#ff4949","font-size":"18px"}}):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"IsShow","column-key":"IsShow",label:"是否显示",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("el-switch",{attrs:{disabled:"","active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0},model:{value:l.IsShow,callback:function(t){e.$set(l,"IsShow",t)},expression:"row.IsShow"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{"column-key":"key",label:"操作",width:"120",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{height:"30px"},attrs:{icon:"el-icon-edit",type:"text"},on:{click:function(a){return e.handleModify(t.row)}}}),e._v(" "),a("el-button",{staticStyle:{height:"30px"},attrs:{icon:"el-icon-delete",type:"text"},on:{click:function(a){return e.handleDeleted(t.row)}}}),e._v(" "),a("el-button",{staticStyle:{height:"30px"},attrs:{icon:"el-icon-postcard",type:"text"},on:{click:function(a){return e.handleUcList(t.row)}}})]}}])})],1)],1)],1)],1)},n=[],i=a("8593"),o={name:"Menu",filters:{},components:{},props:{},data:function(){return{screenHeight:0,requestParams:{pageIndex:1,pageSize:10,orderby:"",sort:0,searchKey:"",state:-1},tableParams:{tableLoading:!1,tableHeight:0,tableProps:{children:"Children",hasChildren:"hasChildren"},tableColumns:[],tableData:[],total:0,layoutOptions:"total, sizes, prev, pager, next, jumper",pageSizeOptions:["10","20","30","50","100","200"],multipleSelection:[]}}},computed:{},watch:{},created:function(){},mounted:function(){var e=this;this.$nextTick((function(t){return e.initPage()}));var t=null;window.onresize=function(a){return function(a){t&&(clearTimeout(t),t=null),t=setTimeout((function(t){return e.setPageHeight()}),500)}()}},methods:{initPage:function(){this.setPageHeight(),this.getTableColumns(),this.getTableData()},setPageHeight:function(){this.screenHeight=document.body.clientHeight,this.tableParams.tableHeight=this.screenHeight-138},getTableColumns:function(){var e=this;this.tableParams.tableColumns=[{columnName:"rowIdx",columnLabel:"序号",columnWidth:58,align:"center",headerAlign:"center",sortable:!1,fixed:!0,show:!0},{columnName:"state",columnLabel:"状态",columnWidth:80,align:"center",headerAlign:"center",sortable:!1,fixed:!1,show:!0,formatter:function(t,a,l){var n=e.$createElement;return n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":0,"inactive-value":1,value:l,rowid:t.id}})}}]},getSearchParam:function(){var e={};for(var t in this.requestParams)if(this.requestParams.hasOwnProperty(t)){var a=this.requestParams[t];a instanceof Array?!a.length||1===a.length&&-1===a[0]||(e[t]=a):0!==a&&!a||-1===a||""!==a&&(e[t]=a)}return e},getTableData:function(){var e=this;this.tableParams.tableLoading=!0,Object(i["d"])(this.getSearchParam()).then((function(t){console.log(t.data),e.tableParams.tableData=t.data,e.tableParams.tableLoading=!1})).catch((function(t){e.$message.error({message:t.message||"请求出错"}),e.tableParams.tableLoading=!1}))},handleSizeChange:function(e){this.requestParams.pageIndex=0,this.requestParams.pageSize=e,this.getTableData()},handleCurrentChange:function(e){this.requestParams.pageIndex=e,this.getTableData()},handleCreated:function(){},handleModify:function(e){},handleDeleted:function(e){},handleUcList:function(e){},handleSwitchChange:function(e){console.log(e)},handleSwitchClick:function(e){alert(e)}}},r=o,s=a("2877"),c=Object(s["a"])(r,l,n,!1,null,"7bead7e0",null);t["default"]=c.exports}}]);