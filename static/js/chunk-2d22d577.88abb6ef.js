(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22d577"],{f6a2:function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"app-container"},[t("el-container",[t("el-header",{staticClass:"table-header",attrs:{height:"auto"}},[t("el-button-group",{staticClass:"table-left"},[t("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.handleCreated}},[e._v("新增")])],1),e._v(" "),t("div",{staticClass:"table-right"},[t("el-input",{staticClass:"input-with-select",attrs:{clearable:"",placeholder:"请输入单据编号"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1)],1),e._v(" "),t("el-main",{staticClass:"table-main"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableParams.tableLoading,expression:"tableParams.tableLoading"}],attrs:{"row-key":"rowIdx","element-loading-text":"Loading",height:e.tableParams.tableHeight,data:e.tableParams.tableData,border:"",fit:"","highlight-current-row":""}},[e._l(this.tableParams.tableColumns,(function(a,n){return[a.show?t("el-table-column",{key:n,attrs:{"column-key":a.columnName,label:a.columnLabel,prop:a.columnName,width:a.columnWidth,align:a.align,"header-align":a.headerAlign,sortable:a.sortable,"sort-orders":a.sortOrders,fixed:a.fixed,"show-overflow-tooltip":""}}):e._e()]}))],2)],1),e._v(" "),t("el-footer",{staticClass:"table-footer",attrs:{height:"auto"}},[t("el-pagination",{attrs:{"current-page":e.requestParams.pageIndex,"page-size":e.requestParams.pageSize,total:e.tableParams.total,"page-sizes":e.tableParams.pageSizeOptions,layout:e.tableParams.layoutOptions},on:{"update:currentPage":function(a){return e.$set(e.requestParams,"pageIndex",a)},"update:current-page":function(a){return e.$set(e.requestParams,"pageIndex",a)},"update:pageSize":function(a){return e.$set(e.requestParams,"pageSize",a)},"update:page-size":function(a){return e.$set(e.requestParams,"pageSize",a)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"prev-click":e.handleCurrentChange,"next-click":e.handleCurrentChange}})],1)],1)],1)},l=[],r=(t("ac6a"),t("8593")),i={name:"SysCode",filters:{statusFilter:function(e){var a={published:"success",draft:"gray",deleted:"danger"};return a[e]}},components:{},props:{},data:function(){return{screenHeight:0,requestParams:{pageIndex:1,pageSize:10,orderby:"",sort:0,searchKey:"",state:-1},tableParams:{tableLoading:!1,tableHeight:0,tableColumns:[],tableData:[],total:0,layoutOptions:"total, sizes, prev, pager, next, jumper",pageSizeOptions:["10","20","30","50","100","200"],multipleSelection:[]}}},computed:{},watch:{},created:function(){},mounted:function(){var e=this;this.$nextTick((function(a){return e.initPage()}));var a=null;window.onresize=function(t){return function(t){a&&(clearTimeout(a),a=null),a=setTimeout((function(a){return e.setPageHeight()}),500)}()}},methods:{initPage:function(){this.setPageHeight(),this.getTableColumns(),this.getTableData()},setPageHeight:function(){this.screenHeight=document.body.clientHeight,this.tableParams.tableHeight=this.screenHeight-182},getTableColumns:function(){this.tableParams.tableColumns=[{columnName:"rowIdx",columnLabel:"序号",columnWidth:58,align:"center",headerAlign:"center",sortable:!1,fixed:!0,show:!0},{columnName:"title",columnLabel:"编码名称",align:"left",headerAlign:"center",sortable:!1,fixed:!1,show:!0},{columnName:"codetag",columnLabel:"编码标识",columnWidth:160,align:"left",headerAlign:"left",sortable:!1,fixed:!1,show:!0},{columnName:"prefix",columnLabel:"前缀",columnWidth:80,align:"left",headerAlign:"left",sortable:!1,fixed:!1,show:!0},{columnName:"value",columnLabel:"当前值",columnWidth:80,align:"left",headerAlign:"left",sortable:!1,fixed:!1,show:!0},{columnName:"length",columnLabel:"长度",columnWidth:160,align:"center",headerAlign:"center",sortable:!1,fixed:!1,show:!0},{columnName:"state",columnLabel:"状态",columnWidth:80,align:"center",headerAlign:"center",sortable:!1,fixed:!1,show:!0},{columnName:"updatedtime",columnLabel:"更新时间",columnWidth:160,align:"center",headerAlign:"center",sortable:!1,fixed:!1,show:!0},{columnName:"createtime",columnLabel:"创建时间",columnWidth:160,align:"center",headerAlign:"center",sortable:!1,fixed:!1,show:!0}]},getSearchParam:function(){var e={};for(var a in this.requestParams)if(this.requestParams.hasOwnProperty(a)){var t=this.requestParams[a];t instanceof Array?!t.length||1===t.length&&-1===t[0]||(e[a]=t):0!==t&&!t||-1===t||""!==t&&(e[a]=t)}return e},getTableData:function(){var e=this;this.tableParams.tableLoading=!0,Object(r["a"])(this.getSearchParam()).then((function(a){var t=[],n=(e.requestParams.pageIndex-1)*e.requestParams.pageSize;a.data.PageData.forEach((function(a,l){a["rowIdx"]=n+ ++l,a["updatedtime"]=e.$moment(a["updatedtime"]).format("YYYY-MM-DD HH:mm:ss"),a["createtime"]=e.$moment(a["createtime"]).format("YYYY-MM-DD HH:mm:ss"),t.push(a)})),e.tableParams.tableData=t,e.tableParams.total=a.data.TotalItems,e.tableParams.tableLoading=!1})).catch((function(a){e.$message.error({message:a.message||"请求出错"}),e.tableParams.tableLoading=!1}))},handleSizeChange:function(e){this.requestParams.pageIndex=0,this.requestParams.pageSize=e,this.getTableData()},handleCurrentChange:function(e){this.requestParams.pageIndex=e,this.getTableData()},handleCreated:function(){}}},s=i,o=t("2877"),u=Object(o["a"])(s,n,l,!1,null,"37548581",null);a["default"]=u.exports}}]);